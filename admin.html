<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Manager - Admin</title>
    <link rel="stylesheet" href="assets/css/style-base.css?v=2">
    <link rel="stylesheet" href="assets/css/style-admin.css">
</head>
<body>
    <!-- Password Modal -->
    <div id="passwordModal" class="modal active">
        <div class="modal-content">
            <h2>ğŸ” Admin Access</h2>
            <p>Enter password to access content manager</p>
            <input type="password" id="passwordInput" placeholder="Password" autofocus>
            <button id="loginButton" class="btn-primary">Login</button>
            <p id="errorMessage" class="error-message"></p>
        </div>
    </div>

    <!-- Main Admin Interface -->
    <div id="adminInterface" class="admin-container" style="display: none;">
        <!-- Header -->
        <header class="admin-header">
            <h1>ğŸ“ Content Manager</h1>
            <div class="header-actions">
                <button id="settingsBtn" class="btn-secondary">âš™ï¸ Settings</button>
                <button id="logoutBtn" class="btn-secondary">ğŸšª Logout</button>
            </div>
        </header>

        <!-- Content Type Selector -->
        <div class="content-selector">
            <button class="selector-btn active" data-type="blog">ğŸ“° Blog Post</button>
            <button class="selector-btn" data-type="portfolio">ğŸ® Portfolio Item</button>
        </div>

        <!-- Editor Container -->
        <div class="editor-container">
            <!-- Metadata Section -->
            <div class="editor-section">
                <h2>Basic Information</h2>
                
                <div class="form-group">
                    <label>ID (folder name, lowercase, no spaces)</label>
                    <input type="text" id="contentId" placeholder="gameplay-loops">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Title (DE)</label>
                        <input type="text" id="titleDE" placeholder="Deutscher Titel">
                    </div>
                    <div class="form-group">
                        <label>Title (EN)</label>
                        <input type="text" id="titleEN" placeholder="English Title">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Excerpt (DE)</label>
                        <textarea id="excerptDE" rows="2" placeholder="Kurze Beschreibung"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Excerpt (EN)</label>
                        <textarea id="excerptEN" rows="2" placeholder="Short description"></textarea>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Date</label>
                        <input type="date" id="contentDate">
                    </div>
                    <div class="form-group">
                        <label>Category</label>
                        <input type="text" id="contentCategory" placeholder="Game Design">
                    </div>
                </div>

                <div class="form-group">
                    <label>Tags (comma separated)</label>
                    <input type="text" id="contentTags" placeholder="RPG, Game Design, Mechanics">
                </div>

                <div class="form-group">
                    <label>Hero Image</label>
                    <div class="file-upload">
                        <input type="file" id="heroImageInput" accept="image/*">
                        <div class="file-preview" id="heroImagePreview"></div>
                    </div>
                </div>
            </div>

            <!-- Content Sections -->
            <div class="editor-section">
                <div class="section-header">
                    <h2>Content Sections</h2>
                    <button id="addSectionBtn" class="btn-primary">+ Add Section</button>
                </div>
                
                <div id="sectionsContainer" class="sections-container">
                    <!-- Sections will be added here dynamically -->
                </div>
            </div>

            <!-- Template Selector Modal -->
            <div id="templateModal" class="modal">
                <div class="modal-content template-selector">
                    <h3>Select Template</h3>
                    <div class="template-grid">
                        <button class="template-card" data-template="text">
                            <span class="template-icon">ğŸ“</span>
                            <span class="template-name">Text</span>
                        </button>
                        <button class="template-card" data-template="features">
                            <span class="template-icon">âœ¨</span>
                            <span class="template-name">Features</span>
                        </button>
                        <button class="template-card" data-template="example">
                            <span class="template-icon">ğŸ’¡</span>
                            <span class="template-name">Example</span>
                        </button>
                        <button class="template-card" data-template="mistakes">
                            <span class="template-icon">âŒ</span>
                            <span class="template-name">Mistakes</span>
                        </button>
                        <button class="template-card" data-template="list">
                            <span class="template-icon">ğŸ“‹</span>
                            <span class="template-name">List</span>
                        </button>
                        <button class="template-card" data-template="bulletpoints">
                            <span class="template-icon">â€¢</span>
                            <span class="template-name">Bulletpoints</span>
                        </button>
                        <button class="template-card" data-template="gallery">
                            <span class="template-icon">ğŸ–¼ï¸</span>
                            <span class="template-name">Gallery</span>
                        </button>
                        <button class="template-card" data-template="video">
                            <span class="template-icon">ğŸ¥</span>
                            <span class="template-name">Video</span>
                        </button>
                        <button class="template-card" data-template="quote">
                            <span class="template-icon">ğŸ’¬</span>
                            <span class="template-name">Quote</span>
                        </button>
                        <button class="template-card" data-template="code">
                            <span class="template-icon">ğŸ’»</span>
                            <span class="template-name">Code</span>
                        </button>
                    </div>
                    <button id="closeTemplateModal" class="btn-secondary">Cancel</button>
                </div>
            </div>

            <!-- Actions -->
            <div class="editor-actions">
                <button id="previewBtn" class="btn-secondary">ğŸ‘ï¸ Preview</button>
                <button id="downloadBtn" class="btn-primary">â¬‡ï¸ Download Files</button>
                <button id="discardBtn" class="btn-danger">ğŸ—‘ï¸ Discard</button>
                <button id="saveBtn" class="btn-success">ğŸ’¾ Save to GitHub</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <h2>âš™ï¸ GitHub Settings</h2>
            <p>Configure GitHub API access for automatic content publishing</p>
            
            <div class="form-group">
                <label>GitHub Personal Access Token</label>
                <input type="password" id="githubToken" placeholder="ghp_...">
                <small>Create token at: github.com/settings/tokens (needs 'repo' scope)</small>
            </div>
            
            <div class="form-group">
                <label>Repository Owner</label>
                <input type="text" id="githubOwner" placeholder="your-username">
            </div>
            
            <div class="form-group">
                <label>Repository Name</label>
                <input type="text" id="githubRepo" placeholder="portfolio-website">
            </div>
            
            <div class="form-group">
                <label>Branch</label>
                <input type="text" id="githubBranch" value="main">
            </div>
            
            <div class="modal-actions">
                <button id="testConnectionBtn" class="btn-secondary">ğŸ”— Test Connection</button>
                <button id="saveSettingsBtn" class="btn-primary">Save Settings</button>
                <button id="closeSettingsBtn" class="btn-secondary">Cancel</button>
            </div>
            <div id="connectionStatus" style="margin-top: 15px; padding: 10px; border-radius: 6px; display: none;"></div>
        </div>
    </div>

    <script src="assets/js/admin-editor.js"></script>
    <script src="assets/js/github-api.js"></script>
</body>
</html>
